---
title: "chatbot"
description: I don't need to explain this to you, but I want to.
draft: false
layout: standard
show_title_as_headline: true
---



<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>migraine chatbot</title>

    <!-- for mobile screens -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- stylesheets are conveniently separated into components -->
    <link rel="stylesheet" media="all" href="styles/setup.css">
    <link rel="stylesheet" media="all" href="styles/says.css">
    <link rel="stylesheet" media="all" href="styles/reply.css">
    <link rel="stylesheet" media="all" href="styles/typing.css">
    <link rel="stylesheet" media="all" href="styles/input.css">
    <style>
        body {
            background: #CCCCCC;
        }

        .bubble-container {
            height: 100vh;
        }

        .bubble-container .input-wrap textarea {
            margin: 0;
            width: calc(100% - 30px);
        }
        div#overlay {
	display: none;
	z-index: 2;
	background: #000;
	position: fixed;
	width: 100%;
	height: 100%;
	top: 0px;
	left: 0px;
	text-align: center;
}
div#specialBox {
	display: none;
	position: relative;
	z-index: 3;
	margin: 150px auto 0px auto;
	width: 500px; 
	height: 300px;
	background: #FFF;
	color: #000;
}
div#wrapper {
	position:absolute;
	top: 0px;
	left: 0px;
	padding-left:24px;
}
    </style>
</head>

<body>

<p class="f4 measure lh-copy">
  Scroll down to start the conversation. The chatbot is not accessible for screenreaders and could be challenging for some users. <a href="https://raw.githubusercontent.com/lexahl/migraine/main/static/migraine.txt" target="_blank">Click here for a plain text file of the conversation.</a>
</p>

<hr class="f4 ba b--black-10 mt5 mb4 ml0">
<b>I don't need to explain this to you, but I want to.</b> I know you can't see my migraines, so I guess it can be hard to understand. I have borne the labour of explaining my migraine attacks for nine years now, and I am often too tired to have this conversation anymore. I can't speak for everyone with migraines and what they experience, but maybe this chatbot and learning about my experiences will help you understand what people with this condition go through. 
<br><br>
I have had this conversation too often not to program the chatbot to be direct. If the dialogue happens to offend you at any point, remember that this is a chatbot, and you can close the window. This is how I want to share my experience, which is safe for me.
<br><br>
If you have migraines, please know you are not alone and that I hope you can feel ok. Maybe this chatbot can spread awareness and get more research done, and perhaps this chatbot will make one other person on the planet know that they are not alone. 
<br><br>
Migraines can take many forms and affect and impact people differently. If you are here because you think you have migraine attacks, I would not recommend comparing my experiences with your experiences. Self-diagnosis can be empowering and help you take care of yourself, but without talking to a doctor and seeing a neurologist, you may not get the help you need. On the other hand, if you are here because someone in your life has migraine attacks, then please remember (again) that my experiences are not the same as theirs. Listen to them about what they need, be patient, and be supportive.


<hr class="f4 ba b--black-10 mt5 mb4 ml0">



    <!-- container element for chat window -->
    <div id="chat"></div>

    <!-- import the JavaScript file -->
    <script src="Bubbles.js"></script>
    <script>






// intro 
   
var convo = {
  ice: {
    says: [
      "Hello!"
    ],
    reply: [
      {
        question: "Click here to start the conversation.", 
        answer: "menu1", 
      }
    ]
  }, 
  "menu1": {
    says: [
      "Thanks for starting the conversation.",
      "This is a guided conversation with set questions and answers.",
      "In this chatbot I want to share more information about my migraines, what I experience during a migraine, and what you can do.",
      "What do you want to start talking about?"
    ],
    reply: [
      {
        question: "I want to learn what I can do. (8 questions)", 
        answer: "user1" 
      },
      {
        question: "I want to learn about your migraines. (16 questions)", 
        answer: "about"
      },
      {
        question: "I want to learn about what you experience during a migraine. (7 questions)", 
        answer: "exp" 
      }
    ]
  },
    "menu2": {
    says: [
       "What do you want to talk about now?"
    ],
    reply: [
      {
        question: "I want to learn what I can do. (8 questions)", 
        answer: "user1"
      }, 
      {
        question: "I want to learn about your migraines. (16 questions)", 
        answer: "about"
      },
      {
        question: "I want to learn about what you experience during a migraine. (7 questions)", 
        answer: "exp" 
      },
      {
        question: "End the conversation.", 
        answer: "end" 
      }
    ]
  },

    
    
    
   
   
    
    
    
    
    
// what you can do.  
  
  "user1": {
    says: [
      "You want to talk about what you can do.",
      "That's great."
    ],
    reply: [
      {
        question: "What can I do to help when someone is having a migraine?",
        answer: "user2"
      }
    ]
  },
    "user2": {
    says: [
      "If someone you know is having a migraine:",
      "Ask them what they need. Patiently, calmly, and trust their symptoms."
    ],
    reply: [
      {
        question: "What could they need?",
        answer: "user21"
      }
    ]
  },
  "user21": {
    says: [
      "They could need help finding a place to lay down.",
      "Finding some snacks such as candy, ice water, ice chips, salty snacks, coca-cola or other sugary/caffeinated drinks, electrolytes, coffee, tea, french fries, juice...",
      "Keeping the head cold with ice packs.",
      "Keeping the neck warm with heat packs.",
      "Finding blankets.",
      "Help finding a bin to throw up in.",
      "No bright lights, and no perfume."
    ],
    reply: [
      {
        question: "I could do these things. What should I *not* ask when someone is having a migraine?",
        answer: "user3"
      }
    ]
  },
    "user3": {
    says: [
 	  "Have you tried drinking water?/Maybe you are dehydrated?",
      "Do you want ibuprofen/Tylenol/essential oils?",
      "Why do you get migraines?",
      "Have you tried lying down in a dark room?", 
      "These questions are annoying. Just ask what you can do."
    ],
    reply: [
      {
        question: "Ok. What can I avoid saying to someone with migraines?",
        answer: "user4"
      }
    ]
  },
    "user4": {
    says: [
     "Drink more water!",
	 "It's just a bad headache",
	 "Do yoga! (or any other exercise routine)",
	 "Try essential oils!",
	 "Have you tried the _____ diet?",
	 "I get headaches all the time too! (yes, your pain is valid, but knowing this does not help)"
    ],
    reply: [
      {
        question: "But that worked for me/my neighbour/this one 60 year old man?",
        answer: "user411"
      }
    ]
  },
    "user411": {
    says: [
	 "Good for them. Don't say these things anyways.",
	 "While some Naturopathic practices and exercises have helped some people with migraines, they do not work for everyone.",
	 "And chances are that they have already tried it!"
    ],
    reply: [
      {
        question: "Understood. How can I talk about migraine/migraines?",
        answer: "user41"
      }
    ]
  },
    "user41": {
    says: [
      "Language is important and can shape how we understand things.",
	  "When talking about my experiences, I use the term migraines (plural).",
	  "Other people may say they have migraine (singular) to describe a similar experience."
    ],
    reply: [
      {
        question: "How is the term migraine used?",
        answer: "user42"
      }
    ]
  },
      "user42": {
    says: [
      "This is how the condition is referred to in academic and medical settings.",
	  "Migraine is used like asthma.",
	  "For example, a person has asthma and gets asthma attacks.",
	  "A person has migraine and gets migraine attacks.",
	  "A person with over 15 migraine attacks per month has chronic migraine.",
	  "Saying migraine emphasizes that even between migraine attacks, a person's life is impacted by this condition."
    ],
    reply: [
      {
        question: "Why do you say migraines (plural)?",
        answer: "user5"
      }
    ]
  },
  "user5": {
    says: [
	  "I choose to say my migraines (plural) when talking about my experiences because mine are different each time, unpredictable, and I have times without migraines.",
	  "Not everyone feels the same way about this term, and because we all have different experiences, respecting how we talk about our own experiences matters.",
	  "Just please don't interchange migraine(s) and headache."
    ],
    reply: [
      {
        question: "Ok. I want talk about something else.",
        answer: "menu2"
      },
      {
        question: "End the chat.",
        answer: "end" 
      }
    ]
  },
  
  
  
  
  
  
  
  
  
  
  
 // about my migraines 
  
   "about": {
    says: [
      "You want to talk about my migraines.",
      "Ok.",
      "That's why this bot exists!"
    ],
    reply: [
      {
        question: "What is a migraine?",
        answer: "about1"
      }
    ]
  },
    "about1": {
    says: [
      "A migraine is a type of headache (but not all headaches are migraines)."
    ],
    reply: [
      {
        question: "What is the difference between a headache and a migraine?",
        answer: "about2"
      }
    ]
  },
    "about2": {
    says: [
 	  "This is one of the most common questions I get when talking about my migraines.",
      "But I'm not a doctor, and I don't always know exactly where that line is.",
      "This infographic best represents my experiences.",
      "<img src=https://github.com/lexahl/migraine/blob/main/static/img/headache-or-migraine.png?raw=true />"
    ],
    reply: [
      {
        question: "Do you get headaches?",
        answer: "about21"
      }
    ]
  },
  "about21": {
    says: [
      "Yes, I also get headaches.",
      "When I do have a headache, they are annoying, but they do not compare to my migraines.", 
      "Unlike when I get a migraine, I can continue my day with a headache, and they mostly go away with OTC (over the counter) painkillers."
    ],
    reply: [
      {
        question: "How often do you get migraines?",
        answer: "about3"
      }
    ]
  },
    "about3": {
    says: [
     "Weekly or biweekly or up to 10x per month.",
	 "I have had months with more than 10 migraines and months with 0 migraines."
    ],
    reply: [
      {
        question: "What causes your migraines?",
        answer: "about4"
      }
    ]
  },
    "about4": {
    says: [
      "That is a good question.",
	  "I am not 100% sure.",
	  "Migraines are sometimes hereditary.",
	  "My mom gets migraines, but not as often as I do. ",
	  "I have other things (triggers) that I suspect cause my migraines."
    ],
    reply: [
      {
        question: "What are triggers?",
        answer: "about51"
      }
    ]
  },
   "about51": {
    says: [
      "In the migraine community and with doctors, triggers are what some people with migraines know can result in migraines.",
      "Some members of the migraine community do not believe triggers exist but are just part of their prodrome (part of the migraine attack that comes before the pain).",
      "Learning about triggers can be empowering, but there are many feelings of guilt and shame around triggers."
    ],
    reply: [
      {
        question: "So if you know your triggers, you could prevent your migraines?",
        answer: "about5"
      }
    ]
  },
  "about5": {
    says: [
      "Not really.",
      "Some days, even if I do everything right, I can still have a migraine.",
      "If you have migraines, be kind to yourself."
    ],
    reply: [
      {
        question: "What are some examples of triggers?",
        answer: "about6"
      }
    ]
  },
    "about6": {
    says: [
      "Triggers include smells, sounds, foods, and lights.",
      "But this is not an exhaustive list."
    ],
    reply: [
      {
        question: "What are your triggers?",
        answer: "about7"
      }
    ]
  },
    "about7": {
    says: [
 	  "Barometric changes (pressure/weather)",
 	  "<img src=https://github.com/lexahl/migraine/blob/main/static/img/ahshit.png?raw=true/>"
    ],
    reply: [
      {
        question: "Yikes!",
        answer: "about71"
      }
    ]
  },
  "about71": {
    says: [
 	  "There are more...",
 	  "Too much caffeine",
 	  "Too little caffeine",
 	  "Too much sugar",
 	  "Too little sugar",
 	  "Too much sleep",
 	  "Too little sleep"
    ],
    reply: [
      {
        question: "Double yikes!!",
        answer: "about72"
      }
    ]
  },
  "about72": {
    says: [
 	  "And more...",
 	  "Sleeping in a bad position",
 	  "<img src=https://github.com/lexahl/migraine/blob/main/static/img/myneck.png?raw=true />",
 	  "Some clothing items with pressure on my head, neck, shoulder, or back",
 	  "Exercise",
 	  "Crying",
 	  "Allergies",
 	  "Stress",
      "... and maybe some more that I do not know about yet."
    ],
    reply: [
      {
        question: "Triple yikes!!! Have you always had migraines?",
        answer: "about8"
      }
    ]
  },
    "about8": {
    says: [
     "No.",
	 "They started when I was 15.",
	 "I used to get a lot of headaches alongside my migraines.",
	 "I would take painkillers almost daily."
    ],
    reply: [
      {
        question: "Is there any specific time of day/month/year you get migraines?",
        answer: "about9"
      }
    ]
  },
  "about9": {
    says: [
     "Also, no.",
	 "My migraines do not happen at any specific time of the day or month, or year.",
	 "Somedays, I get woken up in the middle of the night because of a migraine.",
	 "And on other days, they happened when I am awake."
    ],
    reply: [
      {
        question: "How can you prevent migraines?",
        answer: "about10"
      }
    ]
  },
  "about10": {
    says: [
     "I wish I knew.",
	 "I avoid my triggers as much as I can, which for me means being aware of everything I eat and drink, how much I sleep each night, what clothes I wear...",
	 "But again, I can do everything right and still not be able to prevent a migraine."
    ],
    reply: [
      {
        question: "Do you know when a migraine is going to happen?",
        answer: "about11"
      }
    ]
  },
  "about11": {
    says: [
     "Not always.",
	 "I can usually feel it coming on 1h before it gets bad.",
	 "Sometimes, I also know when a migraine might happen because of a visual aura."
    ],
    reply: [
      {
        question: "How long do migraines last?",
        answer: "about12"
      }
    ]
  },
  "about12": {
    says: [
	 "It depends on the person.",
	 "Most of my migraines last around 24 hours if I don't take a pill, and 3-4 hours if I take a pill (and it works)."
    ],
    reply: [
      {
        question: "What do you take for your migraines?",
        answer: "about13"
      }
    ]
  },
  "about13": {
    says: [
	 "I take triptans.",
	 "There are two main types of medicinal migraine treatments; abortive and preventative.",
	 "Triptans are abortive, meaning that they are supposed to stop my migraine and associated symptoms when I can feel one starting or happening.",
	 "Preventative treatments are to reduce the occurrence and severity of migraines. ",
	 "In the past I tried taking magnesium, which is a preventative treatment, but it did not work for me."
    ],
    reply: [
      {
        question: "How do you make your migraines stop?",
        answer: "about14"
      }
    ]
  },
    "about14": {
    says: [
      "If it does not go away with the triptan, I wait it out.",
      "Triptans usually work for me, but sometimes they don't work.",
	  "Waiting it out is terrible physical-pain wise and terrible for my mental health.",
	  "When this happens, it does not usually last more than 24 hours for me."
    ],
    reply: [
      {
        question: "Ok. talk about something else.",
        answer: "menu2"
      },
      {
        question: "End the chat.",
        answer: "end" 
      }
    ]
  },










// experience


   "exp": {
    says: [
      "You want to know what I experience during a migraines.",
      "Ok.",
      "I'll try my best to explain."
    ],
    reply: [
      {
        question: "What happens when you get a migraine?",
        answer: "exp1"
      }
    ]
  },
    "exp1": {
    says: [
      "When I get a migraine, I miss out on a lot of things.",
      "When I get a migraine, it hurts.",
      "I get sad.",
      "It is hard to see other people try to help me when there is not much they can do."
    ],
    reply: [
      {
        question: "How much does it hurt?",
        answer: "exp2"
      }
    ]
  },
    "exp2": {
    says: [
 	  "I don't want to compare it to any pain you might have experienced or are experiencing.",
      "But trust me, and the people in your life with migraines, that it hurts.",
      "a lot."
    ],
    reply: [
      {
        question: "What is it like?",
        answer: "exp3"
      }
    ]
  },
    "exp3": {
    says: [
     "My migraines are more than just the pain.",
	 "Technically, migraines have 4 main phases; prodrome, aura, headache (the very painful part), and postdrome.",
	 "Sometimes, I get a visual aura during the prodrome phase of my migraines.",
    ],
    reply: [
      {
        question: "Click here to watch a video of what I see during an aura.",
        answer: "exp35"
      },
      {
        question: "Click here to read and see images of what I see during an aura.",
        answer: "exp4"
      }
    ]
  },
    "exp35": {
    says: [
      "I see this but on the left side of my vision, not the right side.",
	  "<iframe width=420 height=315 src=https://www.youtube.com/embed/qVFIcF9lyk8></iframe>"
    ],
    reply: [
      {
        question: "Wow. What happens after the aura?",
        answer: "exp5"
      }
    ]
  },"exp4": {
    says: [
      "For me, the aura is a blind/blurry spot that then grows.",
	  "It starts at the centre of my vision, and then I can no longer read.",
	  "It grows to the left and up to form a crescent shape.",
	  "As it grows, I see colourful zig-zags, and everything in the centre is blurry.",
	  "The crescent shape lasts the longest and then grows to blur all my vision."
    ],
    reply: [
      {
        question: "Click here to see the images.",
        answer: "exp41"
      }
    ]
  },
  "exp41": {
    says: [
	  "It looks a bit like this for me, but blurrier.",
	  "<img src=https://github.com/lexahl/migraine/blob/main/static/img/aura2.png?raw=true />",
	  "Like this, but less bright and more zig-zags.",
	  "<img src=https://github.com/lexahl/migraine/blob/main/static/img/aura2.jpeg?raw=true />"
    ],
    reply: [
      {
        question: "Wow. What happens after the aura?",
        answer: "exp5"
      }
    ]
  },
   "exp5": {
    says: [
      "My auras take about 20 minutes and then my vision clears up.",
      "After an aura, I either get a painful migraine, or I don't feel pain, but may still experience other migraine symptoms.",
      "For me, it's 50/50 if I get a painful migraine or not."
    ],
    reply: [
      {
        question: "Why do you experience auras?",
        answer: "exp51"
      }
    ]
  },
  "exp51": {
    says: [
      "Nobody really knows...",
      "Doctors have told me that I am more at risk to have blood clots and strokes because I experience auras with my migraines.",
      "Because of this, I cannot take certain medications such as birth control.",
      "When I first got auras, nobody understood what I was experiencing.",
      "I did not know what I was experiencing until my doctor told me they were auras."
    ],
    reply: [
      {
        question: "Can everyone with migraines see what you see?",
        answer: "exp52"
      }
    ]
  },
  "exp52": {
    says: [
      "Not unless they have auras.",
      "Even then, it is not the exact same for everyone.",
      "Other people can also experience auras in different parts of their body.",
      "Some people with migraines don't experience any aura at all, but they might experience some prodrome symptoms to know when a migraine is coming."
    ],
    reply: [
      {
        question: "Does anything else happen during your migraines?",
        answer: "exp6"
      }
    ]
  },
    "exp6": {
    says: [
      "I also experience aphasia throughout my migraines.",
      "When I experience aphasia during a migraine, I forget words, can't think well, and do not complete my sentences.",
      "It is frustrating."
    ],
    reply: [
      {
        question: "Talk about something else.",
        answer: "menu2"
      },
      {
        question: "End the chat.",
        answer: "end" 
      }
    ]
  },










// end


  end: {
    says: [
      "Thank you for having this conversation.",
      "The chat is over, but you can <strong>start again</strong> if you'd like to."
    ],
    reply: [
      {
        question: "Start again.",
        answer: "ice"
      }
    ]
  }
} 








// js functions (not all in use)

var auraFunction = function () {
 alert("🍌");
 chatWindow.talk(convo, "exp5"); 
};



var chatWindow = new Bubbles(
  document.getElementById("chat"), 
  "chatWindow" 
)
chatWindow.talk(convo)

function toggleOverlay(){
	var overlay = document.getElementById('overlay');
	var specialBox = document.getElementById('specialBox');
	overlay.style.opacity = .8;
	if(overlay.style.display == "block"){
		overlay.style.display = "none";
		specialBox.style.display = "none";
	} else {
		overlay.style.display = "block";
		specialBox.style.display = "block";
	}
	chatWindow.talk(convo, "exp5"); 
}

</script>
</body>
</html>
